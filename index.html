<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stellaris Community Categories</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- Add this style for the info icon (can be in <head> or your CSS file) -->
    <style>
      .info-icon {
        display: inline-block;
        margin-left: 0.6em;
        font-size: 1.1em;
        color: #ffd700;
        vertical-align: middle;
        pointer-events: none;
        user-select: none;
        opacity: 0.92;
        transition: color 0.2s;
      }
      .subcategory-btn.active-desc .info-icon {
        animation: info-pop 0.5s cubic-bezier(.4,0,.2,1);
      }
      @keyframes info-pop {
        0% { transform: scale(0.7); opacity: 0; }
        60% { transform: scale(1.2); opacity: 1; }
        100% { transform: scale(1); opacity: 1; }
      }
    </style>
  </head>
  <body>
    <header>
      <h1>GRP's Guide to Stellaris MP Communities</h1>
    </header>
    <div id="wrapper">
      <main>
        <div id="tab-bar">
          <button id="tab-categories" class="tab-btn active" type="button">
            Categories
          </button>
          <button id="tab-communities" class="tab-btn" type="button">
            Communities
          </button>
          <button id="tab-submit" class="tab-btn" type="button">
            Submit Community
          </button>
          <button id="tab-about" class="tab-btn" type="button">
            About
          </button>
        </div>
        <div id="tab-content-categories">
          <!-- 1. Play Style -->
          <section class="category">
            <button
              class="dropdown-toggle main-category multi-allowed"
              aria-expanded="false"
              aria-controls="play-style-main"
              onclick="toggleDropdown('play-style-main')"
              onkeydown="handleKeyDown(event, 'play-style-main')"
              type="button"
            >
              1. Play Style [*]
            </button>
            <div class="dropdown-content" id="play-style-main">
              <div class="multi-note">
                Multiple play styles may apply to a community.
              </div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="rp-focused" id="cb-rp-focused" />
                <button class="subcategory-btn" type="button" data-key="rp-focused" onclick="showDescription(this)" tabindex="0">
                  RP-Focused
                  <span class="info-icon" style="display:none;">&#9432;</span>
                </button>
              </div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="competitive-multiplayer" id="cb-competitive-multiplayer" />
                <button class="subcategory-btn" type="button" data-key="competitive-multiplayer" onclick="showDescription(this)" tabindex="0">
                  Competitive Multiplayer
                  <span class="info-icon" style="display:none;">&#9432;</span>
                </button>
              </div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="casual-multiplayer" id="cb-casual-multiplayer" />
                <button class="subcategory-btn" type="button" data-key="casual-multiplayer" onclick="showDescription(this)" tabindex="0">
                  Casual Multiplayer
                  <span class="info-icon" style="display:none;">&#9432;</span>
                </button>
              </div>
            </div>
          </section>

          <!-- 2. RP Style -->
          <section class="category" id="category-rp-style">
            <button
              class="dropdown-toggle main-category multi-allowed"
              aria-expanded="false"
              aria-controls="rp-style-main"
              onclick="toggleDropdown('rp-style-main')"
              onkeydown="handleKeyDown(event, 'rp-style-main')"
              type="button"
            >
              2. RP Style
              <span class="category-disabled-message" style="display:none;margin-left:1em;"></span>
            </button>
            <div class="dropdown-content" id="rp-style-main">
              <div class="multi-note">Communities may use multiple RP styles.</div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="railroad" id="cb-railroad" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="railroad"
                  onclick="toggleDropdown('railroad'); showDescription(this)" data-key="railroad" type="button" tabindex="0">
                  Railroad
                </button>
              </div>
              <div class="dropdown-content" id="railroad"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="freeform" id="cb-freeform" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="freeform"
                  onclick="toggleDropdown('freeform'); showDescription(this)" data-key="freeform" type="button" tabindex="0">
                  Freeform
                </button>
              </div>
              <div class="dropdown-content" id="freeform"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="sandbox" id="cb-sandbox" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="sandbox"
                  onclick="toggleDropdown('sandbox'); showDescription(this)" data-key="sandbox" type="button" tabindex="0">
                  Sandbox
                </button>
              </div>
              <div class="dropdown-content" id="sandbox"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="narrative-driven" id="cb-narrative-driven" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="narrative-driven"
                  onclick="toggleDropdown('narrative-driven'); showDescription(this)" data-key="narrative-driven" type="button" tabindex="0">
                  Narrative-Driven
                </button>
              </div>
              <div class="dropdown-content" id="narrative-driven"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="simulationist" id="cb-simulationist" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="simulationist"
                  onclick="toggleDropdown('simulationist'); showDescription(this)" data-key="simulationist" type="button" tabindex="0">
                  Simulationist
                </button>
              </div>
              <div class="dropdown-content" id="simulationist"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="tactical" id="cb-tactical" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="tactical"
                  onclick="toggleDropdown('tactical'); showDescription(this)" data-key="tactical" type="button" tabindex="0">
                  Tactical
                </button>
              </div>
              <div class="dropdown-content" id="tactical"></div>
            </div>
          </section>

          <!-- 3. Writing Activity and Volume -->
          <section class="category" id="category-writing-activity">
            <button
              class="dropdown-toggle main-category"
              aria-expanded="false"
              aria-controls="writing-activity-main"
              onclick="toggleDropdown('writing-activity-main')"
              onkeydown="handleKeyDown(event, 'writing-activity-main')"
              type="button"
            >
              3. Writing Activity and Volume
              <span class="category-disabled-message" style="display:none;margin-left:1em;"></span>
            </button>
            <div class="dropdown-content" id="writing-activity-main">
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="high-activity" id="cb-high-activity" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="high-activity"
                  onclick="toggleDropdown('high-activity'); showDescription(this)" data-key="high-activity" type="button" tabindex="0">
                  High Activity
                </button>
              </div>
              <div class="dropdown-content" id="high-activity"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="moderate-activity" id="cb-moderate-activity" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="moderate-activity"
                  onclick="toggleDropdown('moderate-activity'); showDescription(this)" data-key="moderate-activity" type="button" tabindex="0">
                  Moderate Activity
                </button>
              </div>
              <div class="dropdown-content" id="moderate-activity"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="low-activity" id="cb-low-activity" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="low-activity"
                  onclick="toggleDropdown('low-activity'); showDescription(this)" data-key="low-activity" type="button" tabindex="0">
                  Low Activity
                </button>
              </div>
              <div class="dropdown-content" id="low-activity"></div>
            </div>
          </section>

          <!-- 4. Lore Requirement -->
          <section class="category" id="category-lore-requirement">
            <button
              class="dropdown-toggle main-category"
              aria-expanded="false"
              aria-controls="lore-requirement-main"
              onclick="toggleDropdown('lore-requirement-main')"
              onkeydown="handleKeyDown(event, 'lore-requirement-main')"
              type="button"
            >
              4. Lore Requirement
              <span class="category-disabled-message" style="display:none;margin-left:1em;"></span>
            </button>
            <div class="dropdown-content" id="lore-requirement-main">
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="high-lore" id="cb-high-lore" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="high-lore"
                  onclick="toggleDropdown('high-lore'); showDescription(this)" data-key="high-lore" type="button" tabindex="0">
                  High Lore Demand
                </button>
              </div>
              <div class="dropdown-content" id="high-lore"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="moderate-lore" id="cb-moderate-lore" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="moderate-lore"
                  onclick="toggleDropdown('moderate-lore'); showDescription(this)" data-key="moderate-lore" type="button" tabindex="0">
                  Moderate Lore Demand
                </button>
              </div>
              <div class="dropdown-content" id="moderate-lore"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="low-lore" id="cb-low-lore" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="low-lore"
                  onclick="toggleDropdown('low-lore'); showDescription(this)" data-key="low-lore" type="button" tabindex="0">
                  Low Lore Demand
                </button>
              </div>
              <div class="dropdown-content" id="low-lore"></div>
            </div>
          </section>

          <!-- 5. Community Size -->
          <section class="category">
            <button
              class="dropdown-toggle main-category"
              aria-expanded="false"
              aria-controls="community-size-main"
              onclick="toggleDropdown('community-size-main')"
              onkeydown="handleKeyDown(event, 'community-size-main')"
              type="button"
            >
              5. Community Size
            </button>
            <div class="dropdown-content" id="community-size-main">
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="large-communities" id="cb-large-communities" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="large-communities"
                  onclick="toggleDropdown('large-communities'); showDescription(this)" data-key="large-communities" type="button" tabindex="0">
                  Large Communities
                </button>
              </div>
              <div class="dropdown-content" id="large-communities"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="medium-communities" id="cb-medium-communities" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="medium-communities"
                  onclick="toggleDropdown('medium-communities'); showDescription(this)" data-key="medium-communities" type="button" tabindex="0">
                  Medium Communities
                </button>
              </div>
              <div class="dropdown-content" id="medium-communities"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="small-communities" id="cb-small-communities" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="small-communities"
                  onclick="toggleDropdown('small-communities'); showDescription(this)" data-key="small-communities" type="button" tabindex="0">
                  Small Communities
                </button>
              </div>
              <div class="dropdown-content" id="small-communities"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="exclusive-communities" id="cb-exclusive-communities" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="exclusive-communities"
                  onclick="toggleDropdown('exclusive-communities'); showDescription(this)" data-key="exclusive-communities" type="button" tabindex="0">
                  Exclusive Communities
                </button>
              </div>
              <div class="dropdown-content" id="exclusive-communities"></div>
            </div>
          </section>

          <!-- 6. Required Player Experience Level -->
          <section class="category">
            <button
              class="dropdown-toggle main-category"
              aria-expanded="false"
              aria-controls="experience-level-main"
              onclick="toggleDropdown('experience-level-main')"
              onkeydown="handleKeyDown(event, 'experience-level-main')"
              type="button"
            >
              6. Required Player Experience Level
            </button>
            <div class="dropdown-content" id="experience-level-main">
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="beginner-friendly" id="cb-beginner-friendly" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="beginner-friendly"
                  onclick="toggleDropdown('beginner-friendly'); showDescription(this)" data-key="beginner-friendly" type="button" tabindex="0">
                  Beginner-Friendly
                </button>
              </div>
              <div class="dropdown-content" id="beginner-friendly"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="intermediate" id="cb-intermediate" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="intermediate"
                  onclick="toggleDropdown('intermediate'); showDescription(this)" data-key="intermediate" type="button" tabindex="0">
                  Intermediate
                </button>
              </div>
              <div class="dropdown-content" id="intermediate"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="advanced-expert" id="cb-advanced-expert" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="advanced-expert"
                  onclick="toggleDropdown('advanced-expert'); showDescription(this)" data-key="advanced-expert" type="button" tabindex="0">
                  Advanced/Expert
                </button>
              </div>
              <div class="dropdown-content" id="advanced-expert"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="mixed-skill" id="cb-mixed-skill" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="mixed-skill"
                  onclick="toggleDropdown('mixed-skill'); showDescription(this)" data-key="mixed-skill" type="button" tabindex="0">
                  Mixed Skill Level
                </button>
              </div>
              <div class="dropdown-content" id="mixed-skill"></div>
            </div>
          </section>

          <!-- 7. Mod Usage -->
          <section class="category">
            <button
              class="dropdown-toggle main-category"
              aria-expanded="false"
              aria-controls="mod-usage-main"
              onclick="toggleDropdown('mod-usage-main')"
              onkeydown="handleKeyDown(event, 'mod-usage-main')"
              type="button"
            >
              7. Mod Usage
            </button>
            <div class="dropdown-content" id="mod-usage-main">
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="vanilla" id="cb-vanilla" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="vanilla"
                  onclick="toggleDropdown('vanilla'); showDescription(this)" data-key="vanilla" type="button" tabindex="0">
                  Vanilla
                </button>
              </div>
              <div class="dropdown-content" id="vanilla"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="lightly-modded" id="cb-lightly-modded" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="lightly-modded"
                  onclick="toggleDropdown('lightly-modded'); showDescription(this)" data-key="lightly-modded" type="button" tabindex="0">
                  Lightly Modded
                </button>
              </div>
              <div class="dropdown-content" id="lightly-modded"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="heavily-modded" id="cb-heavily-modded" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="heavily-modded"
                  onclick="toggleDropdown('heavily-modded'); showDescription(this)" data-key="heavily-modded" type="button" tabindex="0">
                  Heavily Modded
                </button>
              </div>
              <div class="dropdown-content" id="heavily-modded"></div>
            </div>
          </section>

          <!-- 8. Language -->
          <section class="category">
            <button
              class="dropdown-toggle main-category"
              aria-expanded="false"
              aria-controls="language-main"
              onclick="toggleDropdown('language-main')"
              onkeydown="handleKeyDown(event, 'language-main')"
              type="button"
            >
              8. Language
            </button>
            <div class="dropdown-content" id="language-main">
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="english-speaking" id="cb-english-speaking" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="english-speaking"
                  onclick="toggleDropdown('english-speaking'); showDescription(this)" data-key="english-speaking" type="button" tabindex="0">
                  English-Speaking
                </button>
              </div>
              <div class="dropdown-content" id="english-speaking"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="non-english-speaking" id="cb-non-english-speaking" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="non-english-speaking"
                  onclick="toggleDropdown('non-english-speaking'); showDescription(this)" data-key="non-english-speaking" type="button" tabindex="0">
                  Non-English Speaking
                </button>
              </div>
              <div class="dropdown-content" id="non-english-speaking"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="multilingual" id="cb-multilingual" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="multilingual"
                  onclick="toggleDropdown('multilingual'); showDescription(this)" data-key="multilingual" type="button" tabindex="0">
                  Multilingual
                </button>
              </div>
              <div class="dropdown-content" id="multilingual"></div>
            </div>
          </section>

          <!-- 9. Geographic Region -->
          <section class="category">
            <button
              class="dropdown-toggle main-category"
              aria-expanded="false"
              aria-controls="region-main"
              onclick="toggleDropdown('region-main')"
              onkeydown="handleKeyDown(event, 'region-main')"
              type="button"
            >
              9. Geographic Region
            </button>
            <div class="dropdown-content" id="region-main">
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="regional-groups" id="cb-regional-groups" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="regional-groups"
                  onclick="toggleDropdown('regional-groups'); showDescription(this)" data-key="regional-groups" type="button" tabindex="0">
                  Regional Groups
                </button>
              </div>
              <div class="dropdown-content" id="regional-groups"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="global-groups" id="cb-global-groups" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="global-groups"
                  onclick="toggleDropdown('global-groups'); showDescription(this)" data-key="global-groups" type="button" tabindex="0">
                  Global Groups
                </button>
              </div>
              <div class="dropdown-content" id="global-groups"></div>
            </div>
          </section>

          <!-- 10. Session Type -->
          <section class="category">
            <button
              class="dropdown-toggle main-category"
              aria-expanded="false"
              aria-controls="session-type-main"
              onclick="toggleDropdown('session-type-main')"
              onkeydown="handleKeyDown(event, 'session-type-main')"
              type="button"
            >
              10. Session Type
            </button>
            <div class="dropdown-content" id="session-type-main">
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="voice-rp" id="cb-voice-rp" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="voice-rp"
                  onclick="toggleDropdown('voice-rp'); showDescription(this)" data-key="voice-rp" type="button" tabindex="0">
                  Voice RP
                </button>
              </div>
              <div class="dropdown-content" id="voice-rp"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="text-based-rp" id="cb-text-based-rp" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="text-based-rp"
                  onclick="toggleDropdown('text-based-rp'); showDescription(this)" data-key="text-based-rp" type="button" tabindex="0">
                  Text-Based RP
                </button>
              </div>
              <div class="dropdown-content" id="text-based-rp"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="mixed-rp" id="cb-mixed-rp" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="mixed-rp"
                  onclick="toggleDropdown('mixed-rp'); showDescription(this)" data-key="mixed-rp" type="button" tabindex="0">
                  Mixed
                </button>
              </div>
              <div class="dropdown-content" id="mixed-rp"></div>
            </div>
          </section>

          <!-- 11. Concurrent Campaigns -->
          <section class="category">
            <button
              class="dropdown-toggle main-category"
              aria-expanded="false"
              aria-controls="concurrent-campaigns-main"
              onclick="toggleDropdown('concurrent-campaigns-main')"
              onkeydown="handleKeyDown(event, 'concurrent-campaigns-main')"
              type="button"
            >
              11. Concurrent Campaigns
            </button>
            <div class="dropdown-content" id="concurrent-campaigns-main">
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="single-campaign" id="cb-single-campaign" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="single-campaign"
                  onclick="toggleDropdown('single-campaign'); showDescription(this)" data-key="single-campaign" type="button" tabindex="0">
                  Single Campaign
                </button>
              </div>
              <div class="dropdown-content" id="single-campaign"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="multiple-campaigns" id="cb-multiple-campaigns" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="multiple-campaigns"
                  onclick="toggleDropdown('multiple-campaigns'); showDescription(this)" data-key="multiple-campaigns" type="button" tabindex="0">
                  Multiple Campaigns
                </button>
              </div>
              <div class="dropdown-content" id="multiple-campaigns"></div>
            </div>
          </section>

          <!-- 12. Moderation Style -->
          <section class="category">
            <button
              class="dropdown-toggle main-category"
              aria-expanded="false"
              aria-controls="moderation-style-main"
              onclick="toggleDropdown('moderation-style-main')"
              onkeydown="handleKeyDown(event, 'moderation-style-main')"
              type="button"
            >
              12. Moderation Style
            </button>
            <div class="dropdown-content" id="moderation-style-main">
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="strict-moderation" id="cb-strict-moderation" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="strict-moderation"
                  onclick="toggleDropdown('strict-moderation'); showDescription(this)" data-key="strict-moderation" type="button" tabindex="0">
                  Strict Moderation
                </button>
              </div>
              <div class="dropdown-content" id="strict-moderation"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="relaxed-moderation" id="cb-relaxed-moderation" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="relaxed-moderation"
                  onclick="toggleDropdown('relaxed-moderation'); showDescription(this)" data-key="relaxed-moderation" type="button" tabindex="0">
                  Relaxed Moderation
                </button>
              </div>
              <div class="dropdown-content" id="relaxed-moderation"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="community-guided" id="cb-community-guided" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="community-guided"
                  onclick="toggleDropdown('community-guided'); showDescription(this)" data-key="community-guided" type="button" tabindex="0">
                  Community-Guided
                </button>
              </div>
              <div class="dropdown-content" id="community-guided"></div>
            </div>
          </section>

          <!-- 13. Session Frequency -->
          <section class="category">
            <button
              class="dropdown-toggle main-category"
              aria-expanded="false"
              aria-controls="session-frequency-main"
              onclick="toggleDropdown('session-frequency-main')"
              onkeydown="handleKeyDown(event, 'session-frequency-main')"
              type="button"
            >
              13. Session Frequency
            </button>
            <div class="dropdown-content" id="session-frequency-main">
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="multiple-a-week" id="cb-multiple-a-week" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="multiple-a-week"
                  onclick="toggleDropdown('multiple-a-week'); showDescription(this)" data-key="multiple-a-week" type="button" tabindex="0">
                  Multiple a Week
                </button>
              </div>
              <div class="dropdown-content" id="multiple-a-week"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="weekly" id="cb-weekly" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="weekly"
                  onclick="toggleDropdown('weekly'); showDescription(this)" data-key="weekly" type="button" tabindex="0">
                  Weekly
                </button>
              </div>
              <div class="dropdown-content" id="weekly"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="bi-monthly" id="cb-bi-monthly" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="bi-monthly"
                  onclick="toggleDropdown('bi-monthly'); showDescription(this)" data-key="bi-monthly" type="button" tabindex="0">
                  Bi-Monthly
                </button>
              </div>
              <div class="dropdown-content" id="bi-monthly"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="monthly" id="cb-monthly" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="monthly"
                  onclick="toggleDropdown('monthly'); showDescription(this)" data-key="monthly" type="button" tabindex="0">
                  Monthly
                </button>
              </div>
              <div class="dropdown-content" id="monthly"></div>
              <div class="category-option">
                <input class="criteria-checkbox" type="checkbox" data-criteria="other-session-frequency" id="cb-other-session-frequency" />
                <button class="dropdown-toggle subcategory-btn" aria-expanded="false" aria-controls="other-session-frequency"
                  onclick="toggleDropdown('other-session-frequency'); showDescription(this)" data-key="other-session-frequency" type="button" tabindex="0">
                  Other
                </button>
              </div>
              <div class="dropdown-content" id="other-session-frequency"></div>
            </div>
          </section>
        </div>
        <div id="tab-content-communities" style="display:none;">
          <div style="background:#ffd700;color:#23272b;font-weight:bold;padding:1em 1.5em;margin-bottom:1.2em;border-radius:8px;text-align:center;box-shadow:0 2px 8px #0002;">
    W.I.P. This Page is for test purposes only. <br></br> It does not represent the final design and layout.
  </div>
          <h2>All Stellaris Communities</h2>
          <table id="communities-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Categories</th>
              </tr>
            </thead>
            <tbody>
              <!-- Populated by script.js -->
            </tbody>
          </table>
        </div>
        <div id="tab-content-submit" style="display:none;">
          <div style="background:#ffd700;color:#23272b;font-weight:bold;padding:1em 1.5em;margin-bottom:1.2em;border-radius:8px;text-align:center;box-shadow:0 2px 8px #0002;">
    W.I.P. DO NOT SUBMIT. This Page is for test purposes only.
  </div>
          <h2>Submit Your Community</h2>
          <form id="submit-community-form"
        action="https://docs.google.com/forms/d/e/1FAIpQLSfLvWL9-K8B3h_vEDMyDigMzhZnYpASr3Q9gGuBf3JkCnSACQ/formResponse"
        method="POST"
        target="hidden_iframe"
        onsubmit="return submitCommunityForm();"
        autocomplete="off"
        style="background:#23272b; border-radius:12px; box-shadow:0 2px 12px #0004; padding:2em 2em 1.5em 2em; max-width:600px; margin:auto;"
      >
    <div style="display:flex; flex-direction:column; gap:1.2em;">
      <label style="font-weight:bold; color:#ffd580; font-size:1.08em; max-width:420px;">
        Community Name:
        <input type="text" name="entry.1241345937" required style="width:100%;max-width:420px;margin-top:0.4em;margin-bottom:0.1em;padding:0.6em 1em;border-radius:7px;border:1.5px solid #444;background:#181c1f;color:#fff;font-size:1.07em;">
      </label>
      <label style="font-weight:bold; color:#ffd580; font-size:1.08em; max-width:420px;">
        Description:
        <textarea name="entry.1255750588" rows="14" required style="width:100%;max-width:420px;margin-top:0.4em;margin-bottom:0.1em;padding:0.7em 1em;border-radius:7px;border:1.5px solid #444;background:#181c1f;color:#fff;font-size:1.07em;resize:vertical;min-height:280px;"></textarea>
      </label>
      <label style="font-weight:bold; color:#ffd580; font-size:1.08em; max-width:420px;">
        Discord Link:
        <input type="url" name="entry.987654321" placeholder="https://discord.gg/yourcommunity" style="width:100%;max-width:420px;margin-top:0.4em;margin-bottom:0.1em;padding:0.6em 1em;border-radius:7px;border:1.5px solid #444;background:#181c1f;color:#fff;font-size:1.07em;">
      </label>
      <label style="font-weight:bold; color:#ffd580; font-size:1.08em; max-width:420px;">
        Preview Image URL:
        <input type="url" name="entry.192837465" placeholder="https://example.com/image.png" style="width:100%;max-width:420px;margin-top:0.4em;margin-bottom:0.1em;padding:0.6em 1em;border-radius:7px;border:1.5px solid #444;background:#181c1f;color:#fff;font-size:1.07em;">
      </label>
      <label style="font-weight:bold; color:#ffd580; font-size:1.08em;">
        Categories:
        <div id="submit-categories-list" style="margin-top:0.5em; margin-bottom:0.7em; background:#23272b; border-radius:10px; padding:1.2em 1em; max-width:520px; box-shadow:0 2px 10px #0003;">
          <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(210px,1fr)); gap:0.7em 1.2em;">
            <div style="border:2px solid #ffd700;border-radius:8px;padding:0.7em 0.7em 0.5em 0.7em;">
              <div style="font-weight:bold;color:#ffd700;margin-bottom:0.3em;font-size:1.07em;">Play Style</div>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="RP-Focused" id="submit-rp-focused"> RP-Focused</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Competitive Multiplayer"> Competitive Multiplayer</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Casual Multiplayer"> Casual Multiplayer</label>
            </div>
            <div id="submit-rp-style-group" style="border:2px solid #ffd700;border-radius:8px;padding:0.7em 0.7em 0.5em 0.7em;">
              <div style="font-weight:bold;color:#ffd700;margin-bottom:0.3em;font-size:1.07em;">RP Style</div>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Railroad" class="rp-dependent"> Railroad</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Freeform" class="rp-dependent"> Freeform</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Sandbox" class="rp-dependent"> Sandbox</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Narrative-Driven" class="rp-dependent"> Narrative-Driven</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Simulationist" class="rp-dependent"> Simulationist</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Tactical" class="rp-dependent"> Tactical</label>
            </div>
            <div id="submit-writing-activity-group" style="border:2px solid #ffd700;border-radius:8px;padding:0.7em 0.7em 0.5em 0.7em;">
              <div style="font-weight:bold;color:#ffd700;margin-bottom:0.3em;font-size:1.07em;">Writing Activity</div>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="High Activity" class="rp-dependent"> High Activity</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Moderate Activity" class="rp-dependent"> Moderate Activity</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Low Activity" class="rp-dependent"> Low Activity</label>
            </div>
            <div id="submit-lore-requirement-group" style="border:2px solid #ffd700;border-radius:8px;padding:0.7em 0.7em 0.5em 0.7em;">
              <div style="font-weight:bold;color:#ffd700;margin-bottom:0.3em;font-size:1.07em;">Lore Requirement</div>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="High Lore Demand" class="rp-dependent"> High Lore Demand</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Moderate Lore Demand" class="rp-dependent"> Moderate Lore Demand</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Low Lore Demand" class="rp-dependent"> Low Lore Demand</label>
            </div>
            <div style="border:2px solid #ffd700;border-radius:8px;padding:0.7em 0.7em 0.5em 0.7em;">
              <div style="font-weight:bold;color:#ffd700;margin-bottom:0.3em;font-size:1.07em;">Community Size</div>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Large Communities"> Large Communities</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Medium Communities"> Medium Communities</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Small Communities"> Small Communities</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Exclusive Communities"> Exclusive Communities</label>
            </div>
            <div style="border:2px solid #ffd700;border-radius:8px;padding:0.7em 0.7em 0.5em 0.7em;">
              <div style="font-weight:bold;color:#ffd700;margin-bottom:0.3em;font-size:1.07em;">Player Experience</div>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Beginner-Friendly"> Beginner-Friendly</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Intermediate"> Intermediate</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Advanced/Expert"> Advanced/Expert</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Mixed Skill Level"> Mixed Skill Level</label>
            </div>
            <div style="border:2px solid #ffd700;border-radius:8px;padding:0.7em 0.7em 0.5em 0.7em;">
              <div style="font-weight:bold;color:#ffd700;margin-bottom:0.3em;font-size:1.07em;">Mod Usage</div>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Vanilla"> Vanilla</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Lightly Modded"> Lightly Modded</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Heavily Modded"> Heavily Modded</label>
            </div>
            <div style="border:2px solid #ffd700;border-radius:8px;padding:0.7em 0.7em 0.5em 0.7em;">
              <div style="font-weight:bold;color:#ffd700;margin-bottom:0.3em;font-size:1.07em;">Language</div>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="English-Speaking"> English-Speaking</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Non-English Speaking"> Non-English Speaking</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Multilingual"> Multilingual</label>
            </div>
            <div style="border:2px solid #ffd700;border-radius:8px;padding:0.7em 0.7em 0.5em 0.7em;">
              <div style="font-weight:bold;color:#ffd700;margin-bottom:0.3em;font-size:1.07em;">Region</div>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Regional Groups"> Regional Groups</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Global Groups"> Global Groups</label>
            </div>
            <div style="border:2px solid #ffd700;border-radius:8px;padding:0.7em 0.7em 0.5em 0.7em;">
              <div style="font-weight:bold;color:#ffd700;margin-bottom:0.3em;font-size:1.07em;">Session Type</div>
              <label id="submit-session-type-group" style="color:#e0e0e0;">
                <input type="checkbox" name="entry.1210572624" value="Voice RP" class="rp-dependent"> Voice RP
              </label><br>
              <label style="color:#e0e0e0;">
                <input type="checkbox" name="entry.1210572624" value="Text-Based RP" class="rp-dependent"> Text-Based RP
              </label><br>
              <label style="color:#e0e0e0;">
                <input type="checkbox" name="entry.1210572624" value="Mixed" class="rp-dependent"> Mixed
              </label>
            </div>
            <div style="border:2px solid #ffd700;border-radius:8px;padding:0.7em 0.7em 0.5em 0.7em;">
              <div style="font-weight:bold;color:#ffd700;margin-bottom:0.3em;font-size:1.07em;">Campaigns</div>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Single Campaign"> Single Campaign</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Multiple Campaigns"> Multiple Campaigns</label>
            </div>
            <div style="border:2px solid #ffd700;border-radius:8px;padding:0.7em 0.7em 0.5em 0.7em;">
              <div style="font-weight:bold;color:#ffd700;margin-bottom:0.3em;font-size:1.07em;">Moderation</div>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Strict Moderation"> Strict Moderation</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Relaxed Moderation"> Relaxed Moderation</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Community-Guided"> Community-Guided</label>
            </div>
            <div style="border:2px solid #ffd700;border-radius:8px;padding:0.7em 0.7em 0.5em 0.7em;">
              <div style="font-weight:bold;color:#ffd700;margin-bottom:0.3em;font-size:1.07em;">Session Frequency</div>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Multiple a Week"> Multiple a Week</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Weekly"> Weekly</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Bi-Monthly"> Bi-Monthly</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Monthly"> Monthly</label><br>
              <label style="color:#e0e0e0;"><input type="checkbox" name="entry.1210572624" value="Other"> Other</label>
            </div>
          </div>
        </div>
      </label>
      <button type="submit" style="margin-top:0.7em;padding:0.6em 2em;font-size:1.1em;border-radius:8px;background:#ffd580;color:#23272b;font-weight:bold;border:none;box-shadow:0 2px 8px #0002;cursor:pointer;">Submit</button>
      <div id="submit-community-message" style="margin-top:1em;color:#ffd580;"></div>
    </div>
  </form>
  <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;" title="Hidden iframe for form submission"></iframe>
  <p style="font-size:0.95em;color:#aaa;margin-top:1em;">
    Note: Submissions are sent via Google Forms and will be reviewed before being added to the public list.
  </p>
        </div>
        <div id="tab-content-about" style="display:none;">
          <h2>About This Project</h2>
          <p>
            This guide helps you explore and match with Stellaris multiplayer communities based on your preferences. It also aids Stellaris communities to represent themselves, find more users, and discover potential for collaboration with other groups. It is designed to make it easier for both new and existing communities to connect, grow, and share their unique play styles and events.
            <br><br>
            <br><br>
            <strong>Features:</strong>
            <ul>
              <li>Browse and filter communities by detailed categories</li>
              <li>See descriptions and explanations for each category</li>
              <li>Find your best community matches</li>
              <li>Communities can submit their group for inclusion</li>
            </ul>
            <strong>Credits:</strong>
            <ul>
              <li>Created by GRP Community</li>
            </ul>
            <strong>Instructions:</strong>
            <ul>
              <li>Use the <b>Categories</b> tab to select your preferences</li>
              <li>Switch to <b>Communities</b> to browse all available groups</li>
              <li>Click <b>Show Ranking</b> to see your best matches</li>
              <li>Communities can use the <b>Submit Community</b> tab to add their group</li>
            </ul>
          </p>
        </div>
      </main>
      <div id="description-panel"></div>
      <button
        id="ranking-toggle-btn"
        aria-controls="ranking-panel"
        aria-expanded="false"
        title="Show Community Match Ranking"
      >
        Show Ranking
      </button>
      <div id="ranking-panel" class="hide">
        <h2>Community Matching</h2>
        <div id="ranking-info">
          <p>
            Select sub-categories to see your match score and ranking for
            communities.
          </p>
          <ul id="selected-criteria"></ul>
          <div id="ranking-results"></div>
        </div>
      </div>
    </div>
    <footer>
      <p>2025 GRP Community</p>
    </footer>
    <script src="script.js"></script>
    <script>
      // ...existing code...
      function submitCommunityForm() {
        var msg = document.getElementById('submit-community-message');
        msg.textContent = "Thank you for your submission! Your community will be reviewed.";
        msg.style.color = "#6be672";
        setTimeout(function() {
          document.getElementById('submit-community-form').reset();
          updateSubmitRPCategoriesVisibility();
        }, 1000);
        return true; // allow form to submit to Google Forms
      }

      function updateSubmitRPCategoriesVisibility() {
        var rpFocused = document.getElementById('submit-rp-focused');
        var enabled = rpFocused && rpFocused.checked;
        var rpInputs = document.querySelectorAll('#submit-categories-list .rp-dependent');
        var rpGroups = [
          document.getElementById('submit-rp-style-group'),
          document.getElementById('submit-writing-activity-group'),
          document.getElementById('submit-lore-requirement-group'),
          document.getElementById('submit-session-type-group').parentElement
        ];
        rpInputs.forEach(function(input) {
          input.disabled = !enabled;
          if (!enabled) input.checked = false;
        });
        rpGroups.forEach(function(group) {
          if (group) {
            if (!enabled) {
              group.style.opacity = "0.5";
              group.style.pointerEvents = "none";
              group.style.filter = "grayscale(0.7)";
            } else {
              group.style.opacity = "";
              group.style.pointerEvents = "";
              group.style.filter = "";
            }
          }
        });
      }
      document.addEventListener('DOMContentLoaded', function() {
        var rpFocused = document.getElementById('submit-rp-focused');
        if (rpFocused) {
          rpFocused.addEventListener('change', updateSubmitRPCategoriesVisibility);
          updateSubmitRPCategoriesVisibility();
        }
      });
      // ...existing code...
    </script>
  </body>
</html>

